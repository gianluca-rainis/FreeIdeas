name = "freeideas"
main = "src/index.ts"
compatibility_date = "2024-12-16"

# Environment Variables - Configure these in Cloudflare Pages project settings
env.production.vars = { ENVIRONMENT = "production" }
env.development.vars = { ENVIRONMENT = "development" }

# Build configuration for Cloudflare Pages with Next.js
[build]
command = "npm run pages:build"
cwd = "./"
watch_paths = ["./pages/**/*.js", "./components/**/*.js", "./lib/**/*.js", "./styles/**/*.css"]

[[build.upload.rules]]
type = "CompiledContentType"
globs = ["**/*.wasm"]
fallthrough = true

[[build.upload.rules]]
type = "Text"
globs = ["**/*.txt", "**/*.html"]
fallthrough = true